# ğŸ¨ Image Segmentation Service

**ĞĞ¿Ğ¸Ñ:** Ğ²ĞµĞ±ÑĞµÑ€Ğ²Ñ–Ñ Ğ´Ğ»Ñ ÑĞµĞ³Ğ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ— Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ Ñ–Ğ· ĞºÑ–Ğ»ÑŒĞºĞ¾Ğ¼Ğ° Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ°Ğ¼Ğ¸, Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ–Ğ² Ñƒ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼Ñƒ Ñ‡Ğ°ÑÑ– Ñ‚Ğ° Ñ–Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¼Ğ¸ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°Ğ¼Ğ¸ Ğ¿Ğ¾Ñ€Ñ–Ğ²Ğ½ÑĞ½Ğ½Ñ.

## âœ¨ ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ–

### ğŸ”¥ ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¸Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»

* **ĞšÑ–Ğ»ÑŒĞºĞ° Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñ–Ğ² ÑĞµĞ³Ğ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ—**: Felzenszwalb, SLIC, Quickshift, Watershed
* **ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ–Ğ² Ñƒ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼Ñƒ Ñ‡Ğ°ÑÑ–**: Live-Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ñ‡ĞµÑ€ĞµĞ· WebSocket
* **Ğ ĞµĞ¶Ğ¸Ğ¼Ğ¸ Ğ¿ĞµÑ€ĞµĞ³Ğ»ÑĞ´Ñƒ**: Single, Split, 2x2 Grid
* **Ğ Ğ¾Ğ·ÑƒĞ¼Ğ½Ğµ ĞºĞµÑˆÑƒĞ²Ğ°Ğ½Ğ½Ñ**: Redis Ğ´Ğ»Ñ Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ–Ğ²
* **ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ñ–**: Ñ‡Ğ°Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸, Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ Ğ¿Ğ°Ğ¼â€™ÑÑ‚Ñ–, Ğ°Ğ½Ğ°Ğ»Ñ–Ğ· ÑĞµĞ³Ğ¼ĞµĞ½Ñ‚Ñ–Ğ²

### ğŸ¯ Ğ Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½Ñ– Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ– 

* **Ğ†Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğµ Ğ¿Ğ¾Ñ€Ñ–Ğ²Ğ½ÑĞ½Ğ½Ñ**: Ñ€ĞµĞ¶Ğ¸Ğ¼ side-by-side Ñ‚Ğ° grid view
* ğŸš«**ĞŸĞ°ĞºĞµÑ‚Ğ½Ğ° Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ°**: ÑĞµĞ³Ğ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ ĞºÑ–Ğ»ÑŒĞºĞ¾Ñ… Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ _(Ğ² API Ğ¿Ñ€Ğ¾Ğ´ÑƒĞ¼Ğ°Ğ½Ğ¾, Ğ½Ğ° Ñ„Ñ€Ğ¾Ğ½Ñ‚Ñ– - Ğ½Ñ–)_
* **Ğ•ĞºÑĞ¿Ğ¾Ñ€Ñ‚**: PNG, Ğ¼Ğ°ÑĞºĞ¸, ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ— Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ–Ğ²
* **Ğ”Ğ¸Ğ½Ğ°Ğ¼Ñ–Ñ‡Ğ½Ğµ ĞºĞµÑ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ°Ğ¼Ğ¸**: Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ/Ğ²Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ Ğ½Ğ° Ğ»ÑŒĞ¾Ñ‚Ñƒ
* **ĞŸÑ€Ğ¾Ñ„Ñ–Ğ»ÑĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ñ–**: Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ– Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ¿Ğ¾ ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ¼Ñƒ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñƒ

### ğŸš€ Ğ¢ĞµÑ…Ğ½Ñ–Ñ‡Ğ½Ñ– Ğ¾ÑĞ¾Ğ±Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ–

* **FastAPI Backend**: ÑÑƒÑ‡Ğ°ÑĞ½Ğ¸Ğ¹ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¸Ğ¹ Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº
* **React Frontend**: TypeScript + Material-UI
* **WebSocket**: live-Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ
* **Docker**: Ğ¿Ğ¾Ğ²Ğ½Ğ° ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ
* **Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ñ–ÑÑ‚ÑŒ Ğ´Ğ¾ Ğ¼Ñ–ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ñ–ÑÑ–Ğ²**
* **Production-ready**: health-checks, Ğ»Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ, Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³

## ğŸ—ï¸ ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React UI      â”‚â”€â”€â”€â”€â”‚   FastAPI        â”‚â”€â”€â”€â”€â”‚   ML Pipeline   â”‚
â”‚   - Multi-view  â”‚    â”‚   - WebSockets   â”‚    â”‚   - 4 ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ¸ â”‚
â”‚   - Real-time   â”‚    â”‚   - REST API     â”‚    â”‚   - ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸     â”‚
â”‚   - Ğ†Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²  â”‚    â”‚   - Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ    â”‚    â”‚   - ĞšĞµÑˆÑƒĞ²Ğ°Ğ½Ğ½Ñ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                        â”‚
         â”‚                        â”‚                        â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Material â”‚            â”‚    Redis    â”‚         â”‚  Image Store â”‚
    â”‚   UI    â”‚            â”‚   Cache     â”‚         â”‚   & Utils    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ñ–Ñ‡Ğ½Ğ¸Ğ¹ ÑÑ‚ĞµĞº

### Backend

* FastAPI + Pydantic 2.5+
* scikit-image, OpenCV
* Redis (ĞºĞµÑˆ), PostgreSQL (Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ñ–, Ğ¾Ğ¿Ñ†Ñ–Ğ¹Ğ½Ğ¾, Ñ‚ÑƒÑ‚ Ğ½Ğµ Ğ·Ğ° ÑÑ‚Ğ¾ÑĞ¾Ğ²ÑƒÑ”Ñ‚ÑÑŒÑ)
* WebSockets Ğ´Ğ»Ñ Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ÑŒ

### Frontend

* React 20+ & TypeScript
* Material-UI (MUI)
* Zustand (state management)
* WebSocket hooks

### DevOps

* Docker + Compose
* Multi-stage builds
* Health checks + Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³

## ğŸš€ Ğ¨Ğ²Ğ¸Ğ´ĞºĞ¸Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

```bash
git clone <repository-url>
cd image-segmentation-service
cp .env.example .env

docker-compose up --build
```

* **Frontend**: [http://localhost:3000](http://localhost:3000)
* **Backend API**: [http://localhost:8000](http://localhost:8000)
* **Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ API**: [http://localhost:8000/docs](http://localhost:8000/docs)

## ğŸ“š Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ

### ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¸Ğ¹ ÑÑ†ĞµĞ½Ğ°Ñ€Ñ–Ğ¹

1. Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶Ğ¸Ñ‚Ğ¸ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ (drag & drop)
2. ĞĞ±Ñ€Ğ°Ñ‚Ğ¸ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ¸ (Felzenszwalb, SLIC, Quickshift, Watershed)
3. ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸ Ñ‡ĞµÑ€ĞµĞ· ÑĞ»Ğ°Ğ¹Ğ´ĞµÑ€Ğ¸ (live update)
4. ĞŸĞµÑ€ĞµĞ³Ğ»ÑĞ´Ğ°Ñ‚Ğ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸ Ñƒ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°Ñ… **Single**, **Split**, **Grid 2x2**
5. Ğ•ĞºÑĞ¿Ğ¾Ñ€Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸ (PNG + JSON Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ñ–)

### Ğ ĞµĞ¶Ğ¸Ğ¼Ğ¸ Ğ¿ĞµÑ€ĞµĞ³Ğ»ÑĞ´Ñƒ Ğ· Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ°Ğ¼Ğ¸

* **Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ¸Ğ¹ UI**
  ![Web UI](docs/images/web_ui.png)
* **ĞŸĞ¾Ñ€Ñ–Ğ²Ğ½ÑĞ½Ğ½Ñ (Split)**
  ![Comparison](docs/images/comparion_view.png)
* **Grid 2x2 (Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸)**
  ![Result View](docs/images/result_view.png)
* **Ğ†ÑÑ‚Ğ¾Ñ€Ñ–Ñ**
  ![History](docs/images/history_view.png)

---

## ğŸ›ï¸ ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñ–Ğ²

**Felzenszwalb**: `scale`, `sigma`, `min_size`
**SLIC**: `n_segments`, `compactness`, `sigma`
**Quickshift**: `kernel_size`, `max_dist`, `ratio`
**Watershed**: `markers`, `compactness`

---

## ğŸ“Š API

* Health: `GET /health`, `GET /health/detailed`
* Images: upload, info, list
* Segmentation: list algorithms, segment single/batch
* Results: get by id, history
* WebSockets: live updates

ĞŸÑ€Ğ¸ĞºĞ»Ğ°Ğ´ JSON ĞµĞºÑĞ¿Ğ¾Ñ€Ñ‚Ñƒ:

```json
{
  "timestamp": "2025-09-22T00:37:45.903Z",
  "image": {"id": "2980990e-3d35-4b7c-975c-a296ad764fe7","filename": "Screenshot.png","dimensions": [1129,566]},
  "algorithms": [
    {"name":"felzenszwalb","parameters":{"scale":240,"sigma":1.6,"min_size":270}}
  ],
  "results": [
    {"algorithm":"felzenszwalb","segments_count":283,"processing_time":15.73,"result_url":"/uploads/..._felzenszwalb_result.png"},
    {"algorithm":"quickshift","segments_count":1437,"processing_time":49.00,"result_url":"/uploads/..._quickshift_result.png"},
    {"algorithm":"watershed","segments_count":250,"processing_time":1.44,"result_url":"/uploads/..._watershed_result.png"}
  ]
}
```

---

## ğŸ³ Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹

* Dev: `docker-compose up --build`


---

---

**ğŸŒ¾  Ğ´Ğ»Ñ Kernel Holding S.A.**
